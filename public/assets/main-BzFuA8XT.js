var q,v,he,N,ne,ge,G,Z,J,K,U={},ve=[],Fe=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,ee=Array.isArray;function H(t,e){for(var _ in e)t[_]=e[_];return t}function ye(t){var e=t.parentNode;e&&e.removeChild(t)}function be(t,e,_){var n,o,i,a={};for(i in e)i=="key"?n=e[i]:i=="ref"?o=e[i]:a[i]=e[i];if(arguments.length>2&&(a.children=arguments.length>3?q.call(arguments,2):_),typeof t=="function"&&t.defaultProps!=null)for(i in t.defaultProps)a[i]===void 0&&(a[i]=t.defaultProps[i]);return z(t,a,n,o,null)}function z(t,e,_,n,o){var i={type:t,props:e,key:_,ref:n,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:o??++he,__i:-1,__u:0};return o==null&&v.vnode!=null&&v.vnode(i),i}function T(t){return t.children}function W(t,e){this.props=t,this.context=e}function D(t,e){if(e==null)return t.__?D(t.__,t.__i+1):null;for(var _;e<t.__k.length;e++)if((_=t.__k[e])!=null&&_.__e!=null)return _.__e;return typeof t.type=="function"?D(t):null}function me(t){var e,_;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((_=t.__k[e])!=null&&_.__e!=null){t.__e=t.__c.base=_.__e;break}return me(t)}}function oe(t){(!t.__d&&(t.__d=!0)&&N.push(t)&&!j.__r++||ne!==v.debounceRendering)&&((ne=v.debounceRendering)||ge)(j)}function j(){var t,e,_,n,o,i,a,c;for(N.sort(G);t=N.shift();)t.__d&&(e=N.length,n=void 0,i=(o=(_=t).__v).__e,a=[],c=[],_.__P&&((n=H({},o)).__v=o.__v+1,v.vnode&&v.vnode(n),te(_.__P,n,o,_.__n,_.__P.namespaceURI,32&o.__u?[i]:null,a,i??D(o),!!(32&o.__u),c),n.__v=o.__v,n.__.__k[n.__i]=n,xe(a,n,c),n.__e!=i&&me(n)),N.length>e&&N.sort(G));j.__r=0}function ke(t,e,_,n,o,i,a,c,d,l,p){var r,g,f,y,C,b=n&&n.__k||ve,u=e.length;for(_.__d=d,Le(_,e,b),d=_.__d,r=0;r<u;r++)(f=_.__k[r])!=null&&typeof f!="boolean"&&typeof f!="function"&&(g=f.__i===-1?U:b[f.__i]||U,f.__i=r,te(t,f,g,o,i,a,c,d,l,p),y=f.__e,f.ref&&g.ref!=f.ref&&(g.ref&&_e(g.ref,null,f),p.push(f.ref,f.__c||y,f)),C==null&&y!=null&&(C=y),65536&f.__u||g.__k===f.__k?(d&&!d.isConnected&&(d=D(g)),d=we(f,d,t)):typeof f.type=="function"&&f.__d!==void 0?d=f.__d:y&&(d=y.nextSibling),f.__d=void 0,f.__u&=-196609);_.__d=d,_.__e=C}function Le(t,e,_){var n,o,i,a,c,d=e.length,l=_.length,p=l,r=0;for(t.__k=[],n=0;n<d;n++)a=n+r,(o=t.__k[n]=(o=e[n])==null||typeof o=="boolean"||typeof o=="function"?null:typeof o=="string"||typeof o=="number"||typeof o=="bigint"||o.constructor==String?z(null,o,null,null,null):ee(o)?z(T,{children:o},null,null,null):o.constructor===void 0&&o.__b>0?z(o.type,o.props,o.key,o.ref?o.ref:null,o.__v):o)!=null?(o.__=t,o.__b=t.__b+1,c=Ue(o,_,a,p),o.__i=c,i=null,c!==-1&&(p--,(i=_[c])&&(i.__u|=131072)),i==null||i.__v===null?(c==-1&&r--,typeof o.type!="function"&&(o.__u|=65536)):c!==a&&(c===a+1?r++:c>a?p>d-a?r+=c-a:r--:c<a?c==a-1&&(r=c-a):r=0,c!==n+r&&(o.__u|=65536))):(i=_[a])&&i.key==null&&i.__e&&!(131072&i.__u)&&(i.__e==t.__d&&(t.__d=D(i)),Q(i,i,!1),_[a]=null,p--);if(p)for(n=0;n<l;n++)(i=_[n])!=null&&!(131072&i.__u)&&(i.__e==t.__d&&(t.__d=D(i)),Q(i,i))}function we(t,e,_){var n,o;if(typeof t.type=="function"){for(n=t.__k,o=0;n&&o<n.length;o++)n[o]&&(n[o].__=t,e=we(n[o],e,_));return e}t.__e!=e&&(_.insertBefore(t.__e,e||null),e=t.__e);do e=e&&e.nextSibling;while(e!=null&&e.nodeType===8);return e}function Ue(t,e,_,n){var o=t.key,i=t.type,a=_-1,c=_+1,d=e[_];if(d===null||d&&o==d.key&&i===d.type&&!(131072&d.__u))return _;if(n>(d!=null&&!(131072&d.__u)?1:0))for(;a>=0||c<e.length;){if(a>=0){if((d=e[a])&&!(131072&d.__u)&&o==d.key&&i===d.type)return a;a--}if(c<e.length){if((d=e[c])&&!(131072&d.__u)&&o==d.key&&i===d.type)return c;c++}}return-1}function re(t,e,_){e[0]==="-"?t.setProperty(e,_??""):t[e]=_==null?"":typeof _!="number"||Fe.test(e)?_:_+"px"}function M(t,e,_,n,o){var i;e:if(e==="style")if(typeof _=="string")t.style.cssText=_;else{if(typeof n=="string"&&(t.style.cssText=n=""),n)for(e in n)_&&e in _||re(t.style,e,"");if(_)for(e in _)n&&_[e]===n[e]||re(t.style,e,_[e])}else if(e[0]==="o"&&e[1]==="n")i=e!==(e=e.replace(/(PointerCapture)$|Capture$/i,"$1")),e=e.toLowerCase()in t||e==="onFocusOut"||e==="onFocusIn"?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+i]=_,_?n?_.u=n.u:(_.u=Z,t.addEventListener(e,i?K:J,i)):t.removeEventListener(e,i?K:J,i);else{if(o=="http://www.w3.org/2000/svg")e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!="width"&&e!="height"&&e!="href"&&e!="list"&&e!="form"&&e!="tabIndex"&&e!="download"&&e!="rowSpan"&&e!="colSpan"&&e!="role"&&e in t)try{t[e]=_??"";break e}catch{}typeof _=="function"||(_==null||_===!1&&e[4]!=="-"?t.removeAttribute(e):t.setAttribute(e,_))}}function ie(t){return function(e){if(this.l){var _=this.l[e.type+t];if(e.t==null)e.t=Z++;else if(e.t<_.u)return;return _(v.event?v.event(e):e)}}}function te(t,e,_,n,o,i,a,c,d,l){var p,r,g,f,y,C,b,u,h,k,S,$,A,E,L,P=e.type;if(e.constructor!==void 0)return null;128&_.__u&&(d=!!(32&_.__u),i=[c=e.__e=_.__e]),(p=v.__b)&&p(e);e:if(typeof P=="function")try{if(u=e.props,h=(p=P.contextType)&&n[p.__c],k=p?h?h.props.value:p.__:n,_.__c?b=(r=e.__c=_.__c).__=r.__E:("prototype"in P&&P.prototype.render?e.__c=r=new P(u,k):(e.__c=r=new W(u,k),r.constructor=P,r.render=Me),h&&h.sub(r),r.props=u,r.state||(r.state={}),r.context=k,r.__n=n,g=r.__d=!0,r.__h=[],r._sb=[]),r.__s==null&&(r.__s=r.state),P.getDerivedStateFromProps!=null&&(r.__s==r.state&&(r.__s=H({},r.__s)),H(r.__s,P.getDerivedStateFromProps(u,r.__s))),f=r.props,y=r.state,r.__v=e,g)P.getDerivedStateFromProps==null&&r.componentWillMount!=null&&r.componentWillMount(),r.componentDidMount!=null&&r.__h.push(r.componentDidMount);else{if(P.getDerivedStateFromProps==null&&u!==f&&r.componentWillReceiveProps!=null&&r.componentWillReceiveProps(u,k),!r.__e&&(r.shouldComponentUpdate!=null&&r.shouldComponentUpdate(u,r.__s,k)===!1||e.__v===_.__v)){for(e.__v!==_.__v&&(r.props=u,r.state=r.__s,r.__d=!1),e.__e=_.__e,e.__k=_.__k,e.__k.forEach(function(F){F&&(F.__=e)}),S=0;S<r._sb.length;S++)r.__h.push(r._sb[S]);r._sb=[],r.__h.length&&a.push(r);break e}r.componentWillUpdate!=null&&r.componentWillUpdate(u,r.__s,k),r.componentDidUpdate!=null&&r.__h.push(function(){r.componentDidUpdate(f,y,C)})}if(r.context=k,r.props=u,r.__P=t,r.__e=!1,$=v.__r,A=0,"prototype"in P&&P.prototype.render){for(r.state=r.__s,r.__d=!1,$&&$(e),p=r.render(r.props,r.state,r.context),E=0;E<r._sb.length;E++)r.__h.push(r._sb[E]);r._sb=[]}else do r.__d=!1,$&&$(e),p=r.render(r.props,r.state,r.context),r.state=r.__s;while(r.__d&&++A<25);r.state=r.__s,r.getChildContext!=null&&(n=H(H({},n),r.getChildContext())),g||r.getSnapshotBeforeUpdate==null||(C=r.getSnapshotBeforeUpdate(f,y)),ke(t,ee(L=p!=null&&p.type===T&&p.key==null?p.props.children:p)?L:[L],e,_,n,o,i,a,c,d,l),r.base=e.__e,e.__u&=-161,r.__h.length&&a.push(r),b&&(r.__E=r.__=null)}catch(F){e.__v=null,d||i!=null?(e.__e=c,e.__u|=d?160:32,i[i.indexOf(c)]=null):(e.__e=_.__e,e.__k=_.__k),v.__e(F,e,_)}else i==null&&e.__v===_.__v?(e.__k=_.__k,e.__e=_.__e):e.__e=Te(_.__e,e,_,n,o,i,a,d,l);(p=v.diffed)&&p(e)}function xe(t,e,_){e.__d=void 0;for(var n=0;n<_.length;n++)_e(_[n],_[++n],_[++n]);v.__c&&v.__c(e,t),t.some(function(o){try{t=o.__h,o.__h=[],t.some(function(i){i.call(o)})}catch(i){v.__e(i,o.__v)}})}function Te(t,e,_,n,o,i,a,c,d){var l,p,r,g,f,y,C,b=_.props,u=e.props,h=e.type;if(h==="svg"?o="http://www.w3.org/2000/svg":h==="math"?o="http://www.w3.org/1998/Math/MathML":o||(o="http://www.w3.org/1999/xhtml"),i!=null){for(l=0;l<i.length;l++)if((f=i[l])&&"setAttribute"in f==!!h&&(h?f.localName===h:f.nodeType===3)){t=f,i[l]=null;break}}if(t==null){if(h===null)return document.createTextNode(u);t=document.createElementNS(o,h,u.is&&u),i=null,c=!1}if(h===null)b===u||c&&t.data===u||(t.data=u);else{if(i=i&&q.call(t.childNodes),b=_.props||U,!c&&i!=null)for(b={},l=0;l<t.attributes.length;l++)b[(f=t.attributes[l]).name]=f.value;for(l in b)if(f=b[l],l!="children"){if(l=="dangerouslySetInnerHTML")r=f;else if(l!=="key"&&!(l in u)){if(l=="value"&&"defaultValue"in u||l=="checked"&&"defaultChecked"in u)continue;M(t,l,null,f,o)}}for(l in u)f=u[l],l=="children"?g=f:l=="dangerouslySetInnerHTML"?p=f:l=="value"?y=f:l=="checked"?C=f:l==="key"||c&&typeof f!="function"||b[l]===f||M(t,l,f,b[l],o);if(p)c||r&&(p.__html===r.__html||p.__html===t.innerHTML)||(t.innerHTML=p.__html),e.__k=[];else if(r&&(t.innerHTML=""),ke(t,ee(g)?g:[g],e,_,n,h==="foreignObject"?"http://www.w3.org/1999/xhtml":o,i,a,i?i[0]:_.__k&&D(_,0),c,d),i!=null)for(l=i.length;l--;)i[l]!=null&&ye(i[l]);c||(l="value",y!==void 0&&(y!==t[l]||h==="progress"&&!y||h==="option"&&y!==b[l])&&M(t,l,y,b[l],o),l="checked",C!==void 0&&C!==t[l]&&M(t,l,C,b[l],o))}return t}function _e(t,e,_){try{typeof t=="function"?t(e):t.current=e}catch(n){v.__e(n,_)}}function Q(t,e,_){var n,o;if(v.unmount&&v.unmount(t),(n=t.ref)&&(n.current&&n.current!==t.__e||_e(n,null,e)),(n=t.__c)!=null){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(i){v.__e(i,e)}n.base=n.__P=null}if(n=t.__k)for(o=0;o<n.length;o++)n[o]&&Q(n[o],e,_||typeof t.type!="function");_||t.__e==null||ye(t.__e),t.__c=t.__=t.__e=t.__d=void 0}function Me(t,e,_){return this.constructor(t,_)}function Re(t,e,_){var n,o,i,a;v.__&&v.__(t,e),o=(n=typeof _=="function")?null:e.__k,i=[],a=[],te(e,t=(!n&&_||e).__k=be(T,null,[t]),o||U,U,e.namespaceURI,!n&&_?[_]:o?null:e.firstChild?q.call(e.childNodes):null,i,!n&&_?_:o?o.__e:e.firstChild,n,a),xe(i,t,a)}q=ve.slice,v={__e:function(t,e,_,n){for(var o,i,a;e=e.__;)if((o=e.__c)&&!o.__)try{if((i=o.constructor)&&i.getDerivedStateFromError!=null&&(o.setState(i.getDerivedStateFromError(t)),a=o.__d),o.componentDidCatch!=null&&(o.componentDidCatch(t,n||{}),a=o.__d),a)return o.__E=o}catch(c){t=c}throw t}},he=0,W.prototype.setState=function(t,e){var _;_=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=H({},this.state),typeof t=="function"&&(t=t(H({},_),this.props)),t&&H(_,t),t!=null&&this.__v&&(e&&this._sb.push(e),oe(this))},W.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),oe(this))},W.prototype.render=T,N=[],ge=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,G=function(t,e){return t.__v.__b-e.__v.__b},j.__r=0,Z=0,J=ie(!1),K=ie(!0);var B,m,O,le,X=0,Ce=[],I=[],w=v,ce=w.__b,se=w.__r,ae=w.diffed,de=w.__c,ue=w.unmount,fe=w.__;function Pe(t,e){w.__h&&w.__h(m,t,X||e),X=0;var _=m.__H||(m.__H={__:[],__h:[]});return t>=_.__.length&&_.__.push({__V:I}),_.__[t]}function ze(t){return X=1,We($e,t)}function We(t,e,_){var n=Pe(B++,2);if(n.t=t,!n.__c&&(n.__=[$e(void 0,e),function(c){var d=n.__N?n.__N[0]:n.__[0],l=n.t(d,c);d!==l&&(n.__N=[l,n.__[1]],n.__c.setState({}))}],n.__c=m,!m.u)){var o=function(c,d,l){if(!n.__c.__H)return!0;var p=n.__c.__H.__.filter(function(g){return!!g.__c});if(p.every(function(g){return!g.__N}))return!i||i.call(this,c,d,l);var r=!1;return p.forEach(function(g){if(g.__N){var f=g.__[0];g.__=g.__N,g.__N=void 0,f!==g.__[0]&&(r=!0)}}),!(!r&&n.__c.props===c)&&(!i||i.call(this,c,d,l))};m.u=!0;var i=m.shouldComponentUpdate,a=m.componentWillUpdate;m.componentWillUpdate=function(c,d,l){if(this.__e){var p=i;i=void 0,o(c,d,l),i=p}a&&a.call(this,c,d,l)},m.shouldComponentUpdate=o}return n.__N||n.__}function Ie(t,e){var _=Pe(B++,3);!w.__s&&Be(_.__H,e)&&(_.__=t,_.i=e,m.__H.__h.push(_))}function Ve(){for(var t;t=Ce.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(V),t.__H.__h.forEach(Y),t.__H.__h=[]}catch(e){t.__H.__h=[],w.__e(e,t.__v)}}w.__b=function(t){m=null,ce&&ce(t)},w.__=function(t,e){t&&e.__k&&e.__k.__m&&(t.__m=e.__k.__m),fe&&fe(t,e)},w.__r=function(t){se&&se(t),B=0;var e=(m=t.__c).__H;e&&(O===m?(e.__h=[],m.__h=[],e.__.forEach(function(_){_.__N&&(_.__=_.__N),_.__V=I,_.__N=_.i=void 0})):(e.__h.forEach(V),e.__h.forEach(Y),e.__h=[],B=0)),O=m},w.diffed=function(t){ae&&ae(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(Ce.push(e)!==1&&le===w.requestAnimationFrame||((le=w.requestAnimationFrame)||je)(Ve)),e.__H.__.forEach(function(_){_.i&&(_.__H=_.i),_.__V!==I&&(_.__=_.__V),_.i=void 0,_.__V=I})),O=m=null},w.__c=function(t,e){e.some(function(_){try{_.__h.forEach(V),_.__h=_.__h.filter(function(n){return!n.__||Y(n)})}catch(n){e.some(function(o){o.__h&&(o.__h=[])}),e=[],w.__e(n,_.__v)}}),de&&de(t,e)},w.unmount=function(t){ue&&ue(t);var e,_=t.__c;_&&_.__H&&(_.__H.__.forEach(function(n){try{V(n)}catch(o){e=o}}),_.__H=void 0,e&&w.__e(e,_.__v))};var pe=typeof requestAnimationFrame=="function";function je(t){var e,_=function(){clearTimeout(n),pe&&cancelAnimationFrame(e),setTimeout(t)},n=setTimeout(_,100);pe&&(e=requestAnimationFrame(_))}function V(t){var e=m,_=t.__c;typeof _=="function"&&(t.__c=void 0,_()),m=e}function Y(t){var e=m;t.__c=t.__(),m=e}function Be(t,e){return!t||t.length!==e.length||e.some(function(_,n){return _!==t[n]})}function $e(t,e){return typeof e=="function"?e(t):e}var qe=0;function s(t,e,_,n,o,i){e||(e={});var a,c,d=e;if("ref"in d)for(c in d={},e)c=="ref"?a=e[c]:d[c]=e[c];var l={type:t,props:d,key:_,ref:a,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:--qe,__i:-1,__u:0,__source:o,__self:i};if(typeof t=="function"&&(a=t.defaultProps))for(c in a)d[c]===void 0&&(d[c]=a[c]);return v.vnode&&v.vnode(l),l}const Oe=()=>s("div",{class:"bg-yellow-300 p-3",children:"Log Review"}),Ge=()=>s("div",{class:"bg-yellow-300 p-3",children:"Log File Browser"}),Je=(t,e=1,_=1)=>[...Array(t)].map((n,o)=>(o+e)*_),Ke=({file:{content:t="",name:e=""}={},filesChecked:_=!1,filesCheckeds:n=[],fileRead:o,message:i,loading:a,reviewCheck:c=!0,doubleCheck:d=!0,deleting:l,directoryList:p=[],directoryActive:r,directoryPage:{items:g=[],page:f=1,pages:y=0,from:C=0,to:b=0,total:u=0}={},sizes:h=[10,15,20,30,40,50],size:k=15,onReviewCheck:S=()=>{},onDoubleCheck:$=()=>{},onMessageClose:A=()=>{},onPage:E=()=>{},onSize:L=()=>{},onDirectoryNext:P=()=>{},onDirectoryPrev:F=()=>{},onDirectoryChange:Se=()=>{},onSearch:He=()=>{},onFile:Ne=()=>{},onFilesCheck:De=()=>{},onDelete:Ae=()=>{}})=>s("div",{class:"p-3 flex-grow",children:[s("div",{class:"mb-3",children:[s("label",{children:[s("span",{class:"sr-only",children:"Directory"}),s("select",{onChange:Se,value:r,class:"mt-1 rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",children:[s("option",{children:"Select directory"}),p.map(x=>s("option",{value:x,children:x},x))]})]}),s("label",{class:"ms-3",children:[s("span",{class:"sr-only",children:"Search"}),s("input",{onKeyDown:He,placeholder:"Search file",type:"text",class:"mt-1 rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50"})]}),s("button",{type:"button",onClick:Ae,disabled:l||!(n!=null&&n.length),class:"ms-3 bg-red-300 hover:bg-red-400 active:bg-red-500 focus:outline-none focus:ring focus:ring-red-300 py-2 px-5 rounded disabled:bg-red-100 disabled:text-gray-400",children:l?"Please wait...":`Delete Selected${(n==null?void 0:n.length)>0?` (${n.length})`:""}`}),s("label",{class:"ms-3 inline-flex items-center",children:[s("input",{checked:d,onClick:$,type:"checkbox",class:"rounded border-gray-300 text-indigo-600 shadow-sm focus:border-indigo-300 focus:ring focus:ring-offset-0 focus:ring-indigo-200 focus:ring-opacity-50"}),s("span",{class:"text-gray-700 ms-2",children:"Confirm before delete"})]}),s("label",{class:"ms-3 inline-flex items-center",children:[s("input",{checked:c,onClick:S,type:"checkbox",class:"rounded border-gray-300 text-indigo-600 shadow-sm focus:border-indigo-300 focus:ring focus:ring-offset-0 focus:ring-indigo-200 focus:ring-opacity-50"}),s("span",{class:"text-gray-700 ms-2",children:"Check while review"})]})]}),s("div",{class:"flex gap-3 h-full",children:[s("div",{class:"w-5/12",children:[s("table",{class:"border-collapse border border-slate-400 w-full",children:[s("thead",{children:s("tr",{children:[s("th",{class:"border border-slate-300 p-2 w-px",children:s("input",{type:"checkbox",checked:_,onClick:De})}),s("th",{class:"border border-slate-300 p-2",children:"File"}),s("th",{class:"border border-slate-300 p-2",children:"Last Modified"})]})}),s("tbody",{children:[g.map(x=>s("tr",{onClick:Ee=>Ne(Ee,x),children:[s("td",{class:"border border-slate-300 p-2",children:s("input",{type:"checkbox",checked:n==null?void 0:n.includes(x.name)})}),s("td",{class:"border border-slate-300 p-2",children:x.name}),s("td",{class:"border border-slate-300 p-2",children:x.mtime})]},x.name)),u<1&&s("tr",{children:s("td",{colspan:"3",class:"italic border border-slate-300 p-2",children:"No files"})})]})]}),s("div",{class:"flex mt-3",children:[s("div",{class:"italic",children:u>0&&s("p",{children:["Show ",C," – ",b," of ",u]})}),s("div",{class:"flex ms-auto gap-3 items-center",children:[s("label",{children:[s("span",{class:"text-gray-700 me-3",children:"Page"}),s("select",{onChange:E,value:f,class:"mt-1 py-1 rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",children:Je(y||f).map(x=>s("option",{value:x,children:x},x))})]}),s("label",{children:[s("span",{class:"text-gray-700 me-3",children:"Size"}),s("select",{onChange:L,value:k,class:"mt-1 py-1 rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",children:h.map(x=>s("option",{value:x,children:x},x))})]}),s("button",{onClick:F,disabled:f<=1,type:"button",class:"bg-slate-300 hover:bg-slate-400 active:bg-slate-500 focus:outline-none focus:ring focus:ring-slate-300 py-1 px-3 rounded disabled:bg-slate-100 disabled:text-gray-400",children:"Prev"}),s("button",{onClick:P,disabled:f>=y,type:"button",class:"bg-slate-300 hover:bg-slate-400 active:bg-slate-500 focus:outline-none focus:ring focus:ring-slate-300 py-1 px-3 rounded disabled:bg-slate-100 disabled:text-gray-400",children:"Next"})]})]})]}),s("div",{class:"w-7/12 bg-slate-100 p-3 rounded",children:[a&&s("p",{class:"italic my-3",children:["Loading file ",o,"..."]}),i&&s("div",{class:"bg-yellow-300 p-3 rounded mb-5",children:[s("button",{type:"button",onClick:A,class:"float-end rounded-full bg-slate-100 py-0.5 px-2",children:"x"}),s("p",{children:i})]}),s("p",{class:"italic border-b pb-1 mb-1",children:e||"Please select any file."}),t&&s("div",{class:"overflow-y-auto break-all whitespace-pre max-h-96",children:t})]})]})]}),Qe=({...t})=>s("div",{class:"flex flex-col h-screen",children:[s(Oe,{}),s(Ke,{...t}),s(Ge,{})]}),R=async(t,e,_,n)=>{try{const o=new URLSearchParams({..._||{},action:t});return e&&o.set(t,e),await(await fetch(`?${o}`,{headers:{Accept:"application/json","Content-Type":"application/json"},method:"post",body:n?JSON.stringify(n):null})).json()}catch{return null}},Xe=()=>{const[t,e]=ze({page:1,size:15,reviewCheck:!0,doubleCheck:!0,fileRead:null,filesChecked:!1,filesCheckeds:[]}),_=(u,h)=>e(k=>({...k,.../^o/.test(typeof u)?u:{[u]:h}})),n=async()=>{const{directories:u=[]}=await R("init")||{};_({directoryList:u})},o=async u=>{const{directoryActive:h,size:k,page:S,search:$}={directoryActive:t.directoryActive,size:t.size,page:t.page,search:"",...u||{}},A=await R("directory",h,{size:k,page:S,search:$});_({...u||{},directoryPage:A})},i=u=>o({page:u.target.value}),a=u=>o({page:1,size:u.target.value}),c=u=>u.key=="Enter"&&o({page:1,search:u.target.value}),d=u=>o({page:1,directoryActive:u.target.value}),l=()=>o({page:t.page-1}),p=()=>o({page:t.page+1}),r=async(u,{name:h})=>{if(h!=t.fileRead){_({loading:!0,fileRead:h});const k=await R("file",h,{directory:t.directoryActive});_({loading:!1,file:k})}t.reviewCheck&&_({filesCheckeds:t.filesCheckeds.includes(h)?t.filesCheckeds.filter(k=>k!=h):[...t.filesCheckeds,h]})},g=async()=>{if(t.doubleCheck&&!confirm("Are you sure?"))return;_({deleting:!0,message:null});const u=await R("delete",t.directoryActive,null,{files:t.filesCheckeds});o({deleting:!1,message:(u==null?void 0:u.message)||"Unknown error",filesChecked:!1,filesCheckeds:[]})},f=u=>{var h;return _({filesCheckeds:u.target.checked?((h=t.directoryPage)==null?void 0:h.items.map(({name:k})=>k))||[]:[],filesChecked:!t.filesChecked})},y=()=>_({message:""}),C=u=>_({doubleCheck:!!u.target.checked}),b=u=>_({reviewCheck:!!u.target.checked});return Ie(()=>{n()},[]),s(T,{children:s(Qe,{...t,onDirectoryChange:d,onDirectoryPrev:l,onDirectoryNext:p,onSearch:c,onPage:i,onSize:a,onFile:r,onFilesCheck:f,onDelete:g,onMessageClose:y,onDoubleCheck:C,onReviewCheck:b})})};Re(be(Xe),document.body);
